<!--
This file is the single page the browser shows whenever a new tab opens for this extension.
It exists separately so the map experience has one focused document that can render quickly without route logic.
It hosts the shared shell elements and hands control to `src/main.js`, which renders campaigns, projects, editors,
and per-device launch preferences into this structure.
It also provides transfer controls for export/import and a Google Sync scaffold entry for future cloud sync.
-->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ops Map</title>
    <link rel="stylesheet" href="styles/newtab.css" />
  </head>
  <body>
    <div id="app-shell">
      <header class="top-bar">
        <div class="brand-block">
          <h1>Ops Map</h1>
          <p id="state-summary">Loading your campaigns...</p>
        </div>
        <div class="top-actions">
          <!-- This control is local-per-device and tells runtime how standard web links should open. -->
          <label class="device-pref-control" for="browser-target-select">
            <span>Web opens in</span>
            <select id="browser-target-select">
              <option value="current">Current Browser</option>
              <option value="edge">Edge (best effort)</option>
            </select>
          </label>
          <button id="export-data-button" type="button">Export Data</button>
          <button id="import-data-button" type="button">Import Data</button>
          <button id="google-sync-button" type="button">Google Sync</button>
          <button id="add-campaign-button" type="button">New Campaign</button>
          <button id="add-project-button" type="button">New Project</button>
        </div>
      </header>

      <main id="canvas" aria-label="Campaign map canvas"></main>

      <section id="empty-state" hidden>
        <h2>Your map is empty</h2>
        <p>Create your first campaign, then add projects and missions directly on the canvas.</p>
        <button id="empty-state-create" type="button">Create First Campaign</button>
      </section>

      <section id="panel-root" hidden aria-live="polite"></section>
      <!-- Hidden input keeps import native and lightweight without a persistent visible form field. -->
      <input id="import-file-input" type="file" accept=".json,application/json" hidden />
    </div>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
